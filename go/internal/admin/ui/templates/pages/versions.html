{{define "versions"}}
  <div class="grid">
    <div class="card">
      <h2>{{.Title}}</h2>
      <div class="muted small">{{.T "versions.subtitle"}}</div>
      <div class="btn-row">
        <a class="btn" href="/config/export" data-confirm-download="{{.T "backup.confirmTitle"}}" data-confirm-detail="{{.T "backup.confirmDetail"}}">{{.T "nav.export"}}</a>
        <a class="btn" href="/config/import">{{.T "nav.import"}}</a>
      </div>
    </div>

    <div class="card">
      <h3>{{.T "versions.history"}}</h3>
      {{if not .Versions}}
        <div class="muted small">{{.T "versions.none"}}</div>
      {{else}}
        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>{{.T "versions.time"}}</th>
                <th>{{.T "versions.user"}}</th>
                <th>{{.T "common.note"}}</th>
                <th>{{.T "common.actions"}}</th>
              </tr>
            </thead>
            <tbody>
              {{range .Versions}}
                <tr>
                  <td><code>{{.ID}}</code></td>
                  <td><code data-hz-iso="{{.CreatedAt}}">{{.CreatedAt}}</code></td>
                  <td>{{if .CreatedBy}}{{.CreatedBy}}{{else}}-{{end}}</td>
                  <td>{{.Note}}</td>
                  <td>
                    <form method="post" action="/config/versions/{{.ID}}/restore" style="margin:0;">
                      <button class="btn" type="submit" onclick="return confirm({{printf "%q" ($.T "versions.confirmRestore")}});">{{$.T "versions.restore"}}</button>
                    </form>
                  </td>
                </tr>
              {{end}}
            </tbody>
          </table>
        </div>
      {{end}}
    </div>
  </div>
{{end}}
